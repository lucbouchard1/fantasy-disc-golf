<!DOCTYPE html>
<html lang="en">
<head>
    <title>FDG</title>
    <link rel="stylesheet" href="style.css">
    <script src="live.js"></script>
<body>
<h2>{{ currentYear }} Fantasy Disc Golf</h1>
<div class="standings">
    <h3>Standings</h3>
    <table>
        <tr>
            <th>Place</th>
            <th>Name</th>
            <th>Record</th>
        </tr>
        {% for s in standings %}
            <tr>
            <td>{{ loop.index }}</td>
            <td>{{ s.name }}</td>
            <td>{{ '%0.3f'|format(s.record) }}</td>
            </tr>
        {% endfor %}
    </table>
    <h4>Weekly Results</h4>
    <table>
        <tr>
            <th>Week</th>
            <th>Tournament</th>
            {% for h in weeklyHeader %}
                <th>{{ h }}</th>
            {% endfor %}
        </tr>
            {% for w in weekly %}
                <tr>
                    <td>{{ loop.index }}</td>
                    <td>{{ w[0] }}</td>
                    {% for d in w[1:] %}
                        <td>{{ d|int }}</td>
                    {% endfor %}
                </tr>
            {% endfor %}
    </table>
    <h4>Point Totals</h3>
    <table>
        <tr>
            <th>Name</th>
            <th>Points</th>
        </tr>
        {% for s in pointTotals %}
          <tr>
            <td>{{ s.name }}</td>
            <td>{{ s.points|int }}</td>
          </tr>
        {% endfor %}
    </table>
</div>
<div class="lineups">
    <h3>Lineups</h3>
    {% for coach in lineups %}
        <h4>{{ coach }}</h4>
        <div class="overflow-table">
                <table class="lineups" style="width:1800px;">
                    <colgroup>
                        <col style="width: 100px;">
                        <col style="width: 170px;">
                        <col style="width: 170px;">
                        <col style="width: 170px;">
                        <col style="width: 170px;">
                        <col style="width: 170px;">
                        <col style="width: 170px;">
                        <col style="width: 170px;">
                        <col style="width: 170px;">
                        <col style="width: 170px;">
                        <col style="width: 170px;">
                     </colgroup>
                    <tr>
                        <th>Tournament</th>
                        <th>Start 1</th>
                        <th>Start 2</th>
                        <th>Start 3</th>
                        <th>Start 4</th>
                        <th>Bench 1</th>
                        <th>Bench 2</th>
                        <th>Bench 3</th>
                    </tr>
                        {% for l in lineups[coach] %}
                            <tr>
                                <td>{{ l.tournament }}</td>

                                {% for p in l.starters %}
                                    <td><p>{{ p[0] }}</p><p>{{ p[2]|int }} ({{ p[1] }})</p></td>
                                {% endfor %}

                                {% for p in l.bench %}
                                    <td><p>{{ p[0] }}</p><p>{{ p[2]|int }} ({{ p[1] }})</p></td>
                                {% endfor %}

                            </tr>
                        {% endfor %}
                </table class="lineups">
        </div>
    {% endfor %}
</div>
<div class="weekly_results">
    <h3>Bench Points</h3>
    <table>
        <tr>
            <th>Name</th>
            <th>Points</th>
        </tr>
        {% for s in benchTotals %}
          <tr>
            <td>{{ s.name }}</td>
            <td>{{ s.points|int }}</td>
          </tr>
        {% endfor %}
    </table>
    <h4>Weekly Bench Points</h4>
    <table>
        <tr>
            <th>Week</th>
            <th>Tournament</th>
            {% for h in benchHeader %}
                <th>{{ h }}</th>
            {% endfor %}
        </tr>
            {% for w in bench %}
                <tr>
                    <td>{{ loop.index }}</td>
                    <td>{{ w[0] }}</td>
                    {% for d in w[1:] %}
                        <td>{{ d|int }}</td>
                    {% endfor %}
                </tr>
            {% endfor %}
    </table>
</div>
<div class="live_scores">
    <h3><i>{{ tournaments[liveWeek-1] }}</i> Live Score Calculator</h3>
    <h4>Matchup 1</h4>
    <table>
        <tr>
            <th>{{ matchup1[0] }} Players</th>
            <th>Place</th>
            <th>Points</th>
            <th>{{ matchup1[1] }} Players</th>
            <th>Place</th>
            <th>Points</th>
        </tr>
            {% for i in range(4) %}
                <tr>
                    <td>{{ liveScores[matchup1[0]][i] }}</td>
                    <td>
                        <input
                            type="number"
                            class="{{ matchup1[0] }}-input"
                            onchange="sumInputs('{{ matchup1[0] }}');"
                            onkeypress = "this.onchange();"
                            onpaste    = "this.onchange();"
                            oninput    = "this.onchange();"
                        />
                    </td>
                    <td class="{{ matchup1[0] }}-points">0</td>
                    <td>{{ liveScores[matchup1[1]][i] }}</td>
                    <td>
                        <input
                            type="number"
                            class="{{ matchup1[1] }}-input"
                            onchange="sumInputs('{{ matchup1[1] }}');"
                            onkeypress = "this.onchange();"
                            onpaste    = "this.onchange();"
                            oninput    = "this.onchange();"
                        />
                    </td>
                    <td class="{{ matchup1[1] }}-points">0</td>
                </tr>
            {% endfor %}
            <tr>
                <td></td>
                <td>Total</td>
                <td id="{{ matchup1[0] }}-total"/>0</td>
                <td></td>
                <td>Total</td>
                <td id="{{ matchup1[1] }}-total"/>0</td>
            </tr>
    </table>
</div>
<div class="schedule">
    <h3>Schedule</h3>
    <table>
        <tr>
            <th>Week</th>
            <th>Tournament</th>
            <th>Matchup 1</th>
            <th>Matchup 2</th>
        </tr>
            {% for w in schedule %}
                <tr>
                    <td>{{ loop.index }}</td>
                    <td>{{ tournaments[loop.index-1] }}</td>
                    <td>{{ w[0][0] + ', ' + w[0][1] }}</td>
                    <td>{{ w[1][0] + ', ' + w[1][1] }}</td>
                </tr>
            {% endfor %}
    </table>
</div>
<div class="player_totals">
    <h3>Player Season Totals</h3>
    <table>
        <tr>
            <th>Player</th>
            <th>Total Points</th>
            <th>Average Points</th>
        </tr>
            {% for p in playerTotals %}
                <tr>
                    <td>{{ p.name }}</td>
                    <td>{{ p.points | int }}</td>
                    <td>{{ '%.1f'|format(p.avg) }}</td>
                </tr>
            {% endfor %}
    </table>
</div>
<img src="weekly.png", alt="weekly result plot">
<img src="bench.png", alt="bench result plot">
</body>
</html>